

# [정보처리기사 091] - 파티션 설계 ★



# **# 파티션(Partition)**

**1) 개요**

· DB에서 파티션은 대용량 테이블이나 인덱스를 작은 논리적 단위로 나누는 것이다.

· 대용량 DB의 경우 몇 개의 테이블에 데이터가 집중되므로, 이런 테이블을 작은 단위로 나눠 분산시킴으로써 성능 저하를 방지하고 데이터 관리의 편의성을 높인다.

· 테이블이나 인덱스를 파티셔닝 하면 파티션 키 또는 인덱스 키에 따라 물리적으로 별도의 공간에 데이터가 저장된다.

· 데이터 처리는 테이블 단위로, 데이터 저장은 파티션 별로 수행된다.



**2) 장점**

· 데이터 접근 시 액세스 범위를 줄여 쿼리 성능이 향상된다.

· 파티션 별로 데이터가 분산 저장되기 때문에 디스크 성능이 향상된다.

· 파티션 별로 백업 및 복구를 수행하기 때문에 속도가 빠르다.

· 시스템 장애 시 데이터 손상 정도를 최소화할 수 있다.

· 데이터 가용성이 향상된다.

· 파티션 단위로 입출력을 분산시킬 수 있다.



**3) 단점**

· 하나의 테이블을 세분화하여 관리하므로 세심한 관리가 요구된다.

· 테이블 간 조인에 대한 비용이 증가한다.

· 용량이 작은 테이블에 파티셔닝을 수행하면 오히려 성능이 저하된다.



**4) 종류**

[범위 분할(Partitioning)]

​    \- 지정한 열의 값을 기준으로 분할(일/월/분기 등)

[해시 분할(Hash Partitioning)]

​    \- 해시 함수를 적용한 결과 값에 따라 데이터 분할

​    \- 특정 파티션에 데이터가 집중되는 범위 분할의 단점을 보완(데이터를 고르게 분산시킴)

​    \- 특정 데이터가 어디에 있는지는 판단할 수 없음

​    \- 데이터가 고른 컬럼에 효과적(고객번호, 주민번호 등)

[조합 분할(Composite Partitioning)]

​    \- 범위 분할로 분할 후 해시 함수를 적용해 다시 분할하는 방식

​    \- 범위 분할한 파티션이 너무 커서 관리가 어려울 때 유용



**5) 파티션 키 선정 시 고려사항**

· 파티션 키는 테이블 접근 유형에 따라 파티셔닝이 이뤄지도록 선정한다.

· 데이터 관리 용이성을 위해 이력성 데이터는 파티션 생성~소멸 주기를 일치시킨다.

· 매일 생성되는 날짜 컬럼, 백업의 기준이 되는 날짜 컬럼, 파티션 간 이동이 없는 컬럼, I/O 병목을 줄일 수 있는 데이터 분포가 양호한 컬럼 등을 파티션 키로 선정한다.



# **# 인덱스 파티션(Index Partition)**

파티션 된 테이블의 데이터를 관리하기 위해 인덱스를 나눈 것이다.



· 인덱스 파티션은 파티션 된 테이블의 종속 여부에 따라 구분된다.

​    \- **Local Partitioned Index** : 테이블 파티션과 인덱스 파티션이 1대1 대응되도록 파티션

​    \- **Global Partitioned Index** : 테이블 파티션과 인덱스 파티션이 독립적으로 구성되도록 파티션, Local에 비해 데이터 관리가 어려움



· 인덱스 파티션은 인덱스 파티션 키 컬럼의 위치에 따라 구분된다.

​    \- **Prefixed Partitioned Index** : 인덱스 파티션 키와 인덱스 첫 번째 컬럼이 같다.

​    \- **Non-Prefixed Partitioned Index** : 인덱스 파티션 키와 인덱스 첫 컬럼이 다르다.