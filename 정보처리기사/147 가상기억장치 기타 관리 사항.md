

# [정보처리기사 147] - 가상기억장치 기타 관리 사항 ★



# **# 가상기억장치 성능 관련**

**※ 페이지 크기**

· 프로그램을 나누는 페이지 크기에 따라 시스템에 미치는 영향이 달라짐

· 페이지 크기가 작은 경우

​    \- 페이지 단편화 감소, 한 개의 페이지가 주기억장치로 이동하는 시간 감소

​    \- 불필요한 내용이 주기억장치에 적재될 확률이 적어 효율적인 워킹 셋 유지

​    \- Locality에 더 일치할 수 있기 때문에 기억장치 효율 증가

​    \- 페이지 정보를 갖는 Page Map Table의 크기가 커지고, 매핑 속도 감소

​    \- 디스크 접근 횟수가 많아져 전체적인 입출력 시간 증가

· 페이지 크기가 큰 경우

​    \- 페이지 정보를 갖는 Page Mpa Table 크기가 작고, 매핑 속도 빠름

​    \- 디스크 접근 횟수가 줄어 전체적인 입출력 효율 증가

​    \- 페이지 단편화가 증가하고, 한 개의 페이지를 주기억장치로 이동하는 시간이 늘어남

​    \- 프로세스 수행에 불필요한 내용도 주기억장치에 적재될 수 잇음



**※ Locality**

· Locality ; 프로세스가 실행되는 동안 주기억장치를 참조할 때 일부 페이지만 집중적으로 참조하는 성질이 있다는 이론

· 스래싱을 방지하기 위한 워킹 셋 이론의 기반

· 프로세스가 집중적으로 사용하는 페이지를 알아내는 방법 중 하나로, 가상기억장치 관리 이론의 근거가 됨

· 시간 구역성(Temporal Locality)

​    \- 프로그램이 실행되면서 하나의 페이지를 일정 시간 동안 집중적으로 액세스 하는 현상

​    \- Loop, Stack, Sub Loutine, Counting, Totaling에 사용되는 변수 기억 장소

· 공간 구역성(Spatial Locality)

​    \- 프로그램 실행 시 일정 위치의 페이지를 집중적으로 액세스하는 현상

​    \- Array 순회, 순차적 코드, 데이터 저장 기억장소 등



**※ Working Set**

· 일정 시간 동안 자주 참조하는 페이지들의 집합

· 프로그램의 Locality 특징을 이용

· 자주 참조되는 워킹 셋을 주기억장치에 상주시킴으로써, 페이지 부재 및 교체 현상을 줄이고, 프로세스 기억장치 사용을 안정시킴

· 시간이 지남에 따라 자주 참조되는 페이지들의 집합이 변하고, 이에 따라 워킹 셋도 변경됨



**※ 페이지 부재 빈도 방식**

· Page Fault : 프로세스 실행 시 참조할 페이지가 주기억장치에 없는 현상

· PFF : Page Fault Frequency, 페이지 부재가 발생하는 횟수

· Page Fault Rate에 따라 주기억장치에 있는 페이지 프레임 수를 늘리거나 줄여 페이지 부재율을 적정 수준으로 유지하는 방식

· OS는 초기에 임의의 페이지 프레임을 할당, PFR이 증가하면 페이지 프레임 할당을 늘리고, 반대의 상황에는 줄임



**※ Pre-paging**

· 과도한 페이지 부재를 방지하기 위해 필요할 것 같은 모든 페이지를 한번에 페이지 프레임에 적재하는 기법

· 기억장치에 들어온 페이지들 중 사용되지 않는 페이지가 많을 수 있음



**※ Thrashing**

· 스래싱 : 프로세스의 처리 시간보다 페이지 교체에 소요되는 시간이 더 많아지는 현상

· 다중 프로그래밍 시스템이나 가상기억장치를 사용하는 시스템에서 하나의 프로세스 수행 과정 중 자주 페이지 부재가 발생함으로써 발생하는 현상

· 전체 시스템 성능의 저하를 초래

· 다중 프로그래밍의 정도가 높아지면 CPU 이용률은 높아지지만, 어느 특정 시점부터는 스래싱이 발생해 CPU 이용률이 급감함

· 스래싱 현상 방지 방법

​    \- 다중 프로그래밍의 정도를 적정 수준으로 유지

​    \- PFF 조절 및 워킹 셋 유지

​    \- 부족한 자원을 증설하고, 일부 프로세스 중단

​    \- CPU 성능에 대한 자료의 지속적 관리 및 분석으로 임계치를 예상한 운영