# [정보처리기사 037] - 절차형 SQL ☆



# **# 절차형 SQL의 개요**

데이터베이스 전용의 간단한 프로그래밍으로, C나 JAVA 등의 프로그래밍의 언어와 같이 연속적인 실행이나 분기, 반기 등의 제어가 가능한 SQL을 의미한다.



일반적인 프로그래밍 언어에 비해 효율은 떨어지지만, 단일 SQL 문으로 처리하기 어려운 연속적인 작업을들 처리하는 데에 적합하다.

DBMS 엔진에서 직접 실행되기 때문에 입출력 패킷이 적은 편이다.

다양한 기능을 수행하는 모듈을 블록(Block) 구조로 Begin~End 형식으로 생성 및 저장이 가능하다.



**종류 3가지**

**1) 프로시저(Procedure)**

​        \- 특정 기능을 수행하는 일종의 트랜잭션 언어이다.

​        \- 호출을 통해 실행되어 미리 저장해 놓은 SQL 작업을 수행한다.

**2) 트리거(Trigger)**

​        \- 데이터베이스 시스템에서 데이터의 입력, 갱신, 삭제 등의 이벤트가 발생할 때마다 관련 작업이 자동으로 수행된다.

**3) 사용자 정의 함수**

​        \- 프로시저와 유사하게 SQL을 사용하여 일련의 작업을 연속적으로 처리한다.

​        \- 종료 시 예악어 Return을 사용하여 처리 결과를 단일 값으로 반환한다.



# **# 절차형 SQL의 테스트와 디버깅**

디버깅을 통해 기능의 적합성 여부를 검증하고, 테스트 수행 통해 실행 결과를 확인한다.

테스트 전에 구문 오류(Syntax Error)나 참조 오류의 존재 여부를 확인한다.

절차형 코드 특성상 많은 코드가 있기 때문에 오류 및 경고 메시지가 상세히 출력되지 않으므로, SHOW 명령어를 통해 내용을 확인하고 문제를 수정한다.

정상적으로 생성된 절차형 SQL은 디버깅을 통해 로직을 검증하고, 결과를 최종 확인한다.

절차형 SQL의 디버깅은 실젤 데이터베이스에 변화를 줄 수 있는 삽입 및 변경 관련 SQL문을 주석으로 처리하고, 출력문을 이용해 화면에 출력하고 확인한다.



# **# 쿼리 성능 최적화**

데이터 입출력 애플리케이션의 성능 향상을 위해 SQL 코드를 최적화하는 것이다.



쿼리 성능 최적화 전에 성능 측적 도구인 **APM***을 사용하여 최적화 할 쿼리를 선정한다.

​        cf) APM(Application Performance Management/Monitoring) : 애플리케이션의 성능 관리를 위해 접속자, 자원 현황, 트랜잭션 수행 내력, 장애 진단 등의 다양한 모니터링 기능을 제공하는 도구



최적화 쿼리에 대해 **옵티마이저***가 수립한 실행 계획을 검토하고, SQL 코드와 인덱스를 재구성한다.

​        cf) 옵티마이저(Optimizer) : DBMS에 내장되어 작성된 SQL이 효율적으로 수행되도록 최적의 경로를 찾아 주는 모듈