

# [정보처리기사 083] - 반정규화(Denormalization) ☆



# **# 반정규화의 개념**

시스템의 성능 향상, 개발 및 운영의 편의성 등을 위해 정규화된 데이터 모델을 통합/중복/분리하는 과정이다.

즉, 의도적으로 정규화 원칙*을 위배하는 행위이다.

​        **[정규화 원칙]**

​        · **정보의 무손실 표현** : 하나의 스키마를 다른 스키마로 변환할 때 정보의 손실이 있어서는 안된다.

​        · **분리의** **원칙** : 하나의 독립된 관계성은 하나의 독립된 릴레이션으로 분리시켜 표현해야 한다.

​        · **데이터 중복성이 감소**되어야 한다.



· 반정규화를 수행하면 시스템 성능 향상과 관리 효율성은 증가하지만, 데이터 일관성 및 정합성이 저하될 수 있다.

· 과도한 반정규화는 오히려 성능을 저하시킨다.

· 반정규화를 위해 사전에 데이터의 일관성과 무결성을 무선으로 할지, DB 성능과 단순화를 우선으로 할지 결정해야 한다.

· 반정규화 방법



# **# 반정규화 방법**

**1) 테이블 통합**

​    \- 두 개의 테이블이 조인되는 경우가 많으면, 하나의 테이블로 합쳐 사용하는 것이 성능 향상에 도움된다.

​    \- 즉, 두 테이블에서 발생하는 프로세스가 동일하게 처리되는 경우가 잦으면, 테이블 통합을 고려한다.

​    \- 테이블 통합 종류 : 1대1 관계 테이블 통합, 1대N 관계 테이블 통합, 슈퍼타입(상위개쳬)/서브타입(하위개쳬) 테이블 통합

​    \- 테이블 통합 시 고려사항

​        · 데이터 검색은 간편하지만 레코드 증가로 인해 처리량이 증가한다.

​        · 테이블 통합으로 인해 입력, 수정, 삭제 규칙이 복잡해진다.

​        · Not Null, Default, Check 등의 제약조건 설계가 어렵다.

**2) 테이블 분할**

​    \- 테이블을 수직 또는 수평으로 분할하는 것이다.

​    \- **수평 분할(Horizontal Partitioning)**

​        · 레코드를 기준으로 테이블을 분할하는 것이다.

​        · 레코드 별 사용 빈도 차이가 큰 경우 사용 빈도에 따라 테이블을 분할한다.

​    \- **수직 분할(Vertical Partitioning)**

​        · 하나의 테이블에 속성이 너무 많은 경우 속성을 기준으로 테이블을 분할하는 것이다.

​        · **갱신 위주의 속성 분할** : 데이터 갱신 시 레코드 잠금으로 인해 다른 작업을 수행할 수 없으므로 갱신이 자주 일어나는 속성들을 수직 분할하여 사용한다.

​        · **잦은 조회 속성 분할** : 테이블에서 자주 조회되는 속성이 극히 일부일 경우 그 속성들을 수직 분할하여 사용한다.

​        · **크기가 큰 속성 분할** : 이미지 또는 큰(2GB 이상) 텍스트 형식 등으로 된 속성들을 수직 분할하여 사용한다.

​        · **보안 적용 속성 분할** : 테이블 내 특정 속성에 대해서만 보안을 적용할 수 없으므로, 보안이 필요한 속성들을 수직 분할하여 사용한다.

​    \- 테이블 통합 시 고려사항

​        · 기본키의 유일성 관리가 어려워진다.

​        · 데이터 양이 적거나 사용 빈도가 낮은 경우, 굳이 테이블 분할을 하지 않아도 되니, 분할이 꼭 필요한지 고려해야 한다.

​        · 분할된 테이블로 인해 수행 속도가 느려질 수 있다.

​        · 데이터 검색에 중점을 두고 테이블 분할 여부를 결정한다.

**3) 중복 테이블 추가**

​    \- 여러 테이블에서 데이터를 추출하고 사용하거나 다른 서버에 저장된 테이블에 접근해야 하는 경우, 중복 테이블을 추가하여 작업 효율성을 향상시킨다.

​    \- 중복 테이블츨 추가하는 경우

​        · 정규화로 인해 수행 속도가 느려지는 경우

​        · 많은 범위의 데이터를 자주 처리해야 하는 경우

​        · 특정 범위의 데이터를 자주 처리해야 하는 경우

​        · 처리 범위를 줄이지 않고는 수행 속도를 개선할 수 없는 경우

​    \- 중복 테이블 추가 방법

​        · **집계 테이블 추가** : 집계 데이터를 위한 테이블 생성, 각 원본 테이블에 트리거 설정

​        · **진행 테이블 추가** : 적절한 데이터 양 유지와 활용도 향상을 위해 적절한 기본키 설정

​        · **특정 부분 포함 테이블 추가** : 데이터가 많은 테이블의 특정 부분만 새 테이블로 생성

**4) 중복 속성 추가**

​    \- 중복 속성 추가는 조인해서 데이터를 처리할 때 데이터 조회 경로를 단축하기 위해 자주 사용하는 속성을 추가하는 것이다.

​    \- 중복 속성을 추가하면 데이터 무결성 확보가 어렵고, 디스크 공간이 추가로 필요하다.

​    \- 중복 속성을 추가하는 경우

​        · 조인이 자주 발생하는 속성인 경우

​        · 접근 경로가 복잡한 속성인 경우

​        · 액세스 조건으로 자주 사용되는 속성인 경우

​        · 기본키 형태가 적절하지 않거나 여러 개의 속성으로 구성된 경우

​    \- 중복 속성 추가 시 고려사항

​        · 테이블 중복과 속성 중복을 고려한다.

​        · 데이터 일관성 및 무결성에 유의한다.

​        · SQL 그룹 함수를 이용하여 처리할 수 있어야 한다.

​        · 저장 공간 낭비를 고려한다.