# 2-3-3 조인수행 원리



# 0. 조인 

- 두 개 이상의 테이블을 하나의 집합으로 만드는 연산

\- 조인 연산은 두 테이블 사이에서 수행된다(한 번에 두 테이블 씩)



# 1. NL Join

\- 프로그래밍에서 사용하는 중첩 반복문과 유사한 방식으로 조인을 수행한다

\- 선행 테이블(외부 테이블) : 반복문의 외부에 있는 테이블

\- 후행 테이블(내부 테이블) : 반복문의 내부에 있는 테이블

\- 선행 테이블에서 조건을 만족하는 행을 추출하여 후행 테이블을 읽으면서 조인을 수행한다

\- 결과 행의 수가 적은(처리 주관 범위가 좁은) 테이블을 조인 순서상 선행 테이블로 선택하는 것이 전체 수행 연산을 줄일 수 있다



# 2. Sort Merge Join

\- 조인 컬럼을 기준으로 데이터를 정렬하여 조인을 수행한다

\- NL Join은 랜덤 액세스 방식으로 데이터를 읽는 반면 Sort Merge Join은 스캔 방식으로 데이터를 읽는다

\- 일반적으로 대량의 조인 작업에서 정렬 작업을 필요로 하는 Sort Merge Join 보다는 CPU 작업 위주로 처리하는 Hash Join이 성능상 유리하지만 SMJ은 비동등 조인에 대해서도 조인 작업이 가능하다



# 3. Hash Join

\- 조인을 수행할 테이블의 조인 컬럼을 기준으로 해쉬 함수를 수행하여 서로 동일한 해쉬 값을 갖는 것들 사이에서 실제 값이 같은지 비교하면서 조인을 수행한다

\- NL Join의 랜덤 액세스 문제와 Sort Merge Join의 문제점인 정렬 작업의 부담을 해결할 수 있다

\- 조인 칼럼의 인덱스를 사용하지 않기 때문에 조인 칼럼의 인덱스가 존재하지 않아도 사용할 수 있다

\- 해쉬 함수를 이용하여 조인하기 때문에 동등 조인에서만 사용할 수 있다

\- 조인 작업을 수행하기 위해 해쉬 테이블을 메모리에 생성해야 한다